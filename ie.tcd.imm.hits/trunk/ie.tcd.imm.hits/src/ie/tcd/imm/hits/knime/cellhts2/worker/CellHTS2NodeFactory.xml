<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE knimeNode PUBLIC "-//UNIKN//DTD KNIME Node 1.0//EN" "http://www.knime.org/Node.dtd">
<knimeNode icon="./cellHTS2.png" type="Visualizer">
    <name>CellHTS2</name>
    
    <shortDescription>
        This node performs the calculations using CellHTS2
    </shortDescription>
    
    <fullDescription>
        <intro><p>Generates heatmaps, quality reports related to the normalized data.</p>
        <p>The results are presented in the selected output directory.</p>
        </intro>
        
        
        <option name="experiment">The name of the experiment (should not contain tab characters)</option>
        <option name="normalization"><p>The normalization method for the parameters. (For "Z-score" select mean or median, and also some kind of variance adjust.)</p>
        <p>The meaning of possible values:
        <ul>
          <li>every - generates all possible normalizations to different sub-folders</li>
          <li>median - the relative signal of each well compared to the median of the sample wells in the plate</li>
          <li>Bscore - row and column biases within each plate are explicitly corrected for by fitting a two-way median polish to the raw data in a per-plate fashion</li>
          <li>POC - normalize each raw measurements relative to the average of within-plate _positive_ controls</li>
          <li>negatives - normalize each raw measurements relative to the average of within-plate _negative_ controls</li>
          <li>NPI - Normalized percent inhibition, (μpos − x)/(μpos − μneg)</li>
          <li>mean - per-plate average intensity on sample wells</li>
          <li>shorth - the midpoint of the shorth of the per-plate distribution of values on sample wells</li>
        </ul></p></option>
        <option name="multiplicative?">Using the additive, or the multiplicative normalization. If checked: multiplicative, else additive. (For example: additive: x-μ, versus multiplicative: x/μ)</option>
        <option name="log transform?">Transforms the normalized data to the logarithmic scale if checked.</option>
        <option name="Variance adjustment">Adjust the values using the variance by plate/experiment median absolute deviations (MAD) of sample wells, or do not adjust the values (no adjustment).</option>
        <option name="Score"><p>The method to score the replicates. Possible values:
        <ul>
        <li>none - do not score the replicates</li>
        <li>zscore - use the robust z score method (x-median)/MAD</li>
        <li>NPI - Normalized percent inhibition, (μpos − x)/(μpos − μneg)</li>
        <li>zscoreByPlate - use the robust z score method (x-median)/MAD for each plate</li>
        <li>zscoreNonRobust - use the non-robust z score method (x-μ)/SD</li>
        <li>zscoreNonRobustByPlate - use the non-robust z score method (x-μ)/SD for each plate</li>
        </ul></p></option>
        <option name="Summarize replicates with"><p>You can select which statistic would you like about from the scored replicates. Possible options:
        <ul>
        <li>mean - the mean (sum(x)/n) of the scored replicate values for each well</li>
        <li>median - the median of the scored replicate values for each well</li>
        <li>max - the maximum of the scored replicate values for each well</li>
        <li>min - the minimum of the scored replicate values for each well</li>
        <li>rms - the root mean square (sqrt(sum(x*x)/n)) of the scored replicate values for each well</li>
        <li>closestToZero - the closest to 0 from the scored replicate values for each well</li>
        <li>furthestFromZero - the furthest from 0 from the scored replicate values for each well</li>
        </ul></p></option>
        <option name="Results">The result output directory. <b>The previous result will be overwritten.</b></option>
        <option name="Parameters">On this tab you can select which parameters would you like to examine.</option>
    </fullDescription>
    
    <ports>
        <dataIn index="0" name="Data from an experiment">Some data from an input like <b>Importer</b>'s output.</dataIn>
        <dataIn index="1" name="Plate configuration">The experiment's plate configuration.</dataIn>
        <dataIn index="2" name="Experiment description">The experiment's description.</dataIn>
        <dataIn index="3" name="Screen log">The screen log.</dataIn>
        <!-- possibly more ports here-->
        <dataOut index="0" name="summarized values">Top Table (summarized)</dataOut>
        <dataOut index="1" name="replicate values">Top Table (replicates)</dataOut>
        <dataOut index="2" name="aggregate values">Aggregate Values</dataOut>
        <dataOut index="3" name="configuration">Configuration</dataOut>
        <dataOut index="4" name="output">Output Directory</dataOut>
        <!--modelIn index="0">Description of first model input port...</modelIn-->
        <!--modelOut index="0">Description of first model output port...</modelOut-->
    </ports>    
    <views>
        <view index="0" name="unnamed">Currently show nothing.</view>
    </views>
</knimeNode>
